var shapesData;function Shapes(){this.current=-1;var e=document.createElement("div");this.supported=""===e.style.shapeOutside,this.supported||(this.supported=""===e.style.WebkitShapeOutside)}Shapes.prototype.update=function(){if(0==this.supported){if(0!=this.detectIE())for(var e=document.querySelectorAll("p, h1, h2, h3, h4, h5, h6"),t=0;t<e.length;t++)e[t].innerHTML=e[t].innerHTML.replace(/\ufeff/g,"");var r=this.currentDevice();if(this.current!=r){if(-1==this.current)for(e=document.querySelectorAll('div[class^="shm"]'),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);for(var n in this.current=r,shapesData){var i=shapesData[n][r],s=document.querySelectorAll("."+n)[0],a=void 0,d=0;for(d=0;d<s.children.length;d++){if("DIV"!=s.children[d].tagName){a=s.children[d];break}++d}d/=2;var h,o=i.length/3;for(h=0;h<d&&h<o;h++){(l=s.children[2*h]).style.width=i[3*h]+"px",l.style.height=i[3*h+2]+"px",(l=s.children[2*h+1]).style.width=i[3*h+1]+"px",l.style.height=i[3*h+2]+"px"}for(;h<o;h++){var l;(l=document.createElement("div")).setAttribute("class","shm-l"),l.style.width=i[3*h]+"px",l.style.height=i[3*h+2]+"px",s.insertBefore(l,a),(l=document.createElement("div")).setAttribute("class","shm-r"),l.style.width=i[3*h+1]+"px",l.style.height=i[3*h+2]+"px",s.insertBefore(l,a)}for(;h<d;d--)s.removeChild(s.children[2*h]),s.removeChild(s.children[2*h])}}}else if(-1==this.current&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)){this.current=this.currentDevice();for(e=document.querySelectorAll('div[class^="shape"]'),t=0;t<e.length;t++)this.addZWJ(e[t])}},Shapes.prototype.addZWJ=function(e){for(var t=0;t<e.children.length;t++)if("DIV"!=e.children[t].tagName)for(var r=e.children[t],n=0;n<r.childNodes.length;n++){var i,s=r.childNodes[n],a=s.nodeValue;if(null!=a){if(a.length)a=a.split(" ").join(" ‍"),0==n&&"\n"!=(i=a.substring(0,1))&&"‍"!=i&&(a="‍"+a),s.nodeValue=a}else this.addZWJ(s)}},Shapes.prototype.getComputedStyle=function(e,t){var r;if(null!=e)if(window.getComputedStyle)r=window.getComputedStyle(e).getPropertyValue(t);else if(e.currentStyle)try{r=e.currentStyle[t]}catch(e){}return r},Shapes.prototype.detectIE=function(){var e=navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var n=e.indexOf("Edge/");return n>0&&parseInt(e.substring(n+5,e.indexOf(".",n)),10)},Shapes.prototype.currentDevice=function(){var e=document.querySelector(".shape-device"),t=this.getComputedStyle(e,"background-color");return null!=t?parseInt(t.substring(4)):0};var Shapes=new Shapes;function ShapesReady(){Shapes.update()}window.onresize=function(e){Shapes.update()},"complete"==document.readyState?ShapesReady():window.addEventListener?window.addEventListener("load",ShapesReady,!1):window.attachEvent?window.attachEvent("onload",ShapesReady):window.onload=ShapesReady;
